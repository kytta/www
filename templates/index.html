<!DOCTYPE html>
<html lang="{{ lang }}">
<head>
	<meta charset="UTF-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>{% block title %}{{ config.title }}{% endblock title %}</title>
	<meta name="description" content="{% block description %}{{ config.description }}{% endblock description %}" />

	<link rel="stylesheet" href="{{ get_url(path="/style.css") }}?h={{ get_hash(path="/style.css", sha_type=256) }}">

	{% block rss %}
	<link rel="alternate" type="application/atom+xml" title="Blog feed" href="{{ get_url(path="/blog/atom.xml", trailing_slash=false) }}">
	{% endblock rss %}

	<link rel="icon" href="/favicon.ico" sizes="any">
	<link rel="icon" href="/icon.svg" type="image/svg+xml">
	<link rel="apple-touch-icon" href="/apple-touch-icon.png">
	<link rel="manifest" href="/manifest.webmanifest">

	<meta name=generator content="Zola">
</head>
<body>
	<header>
		<nav>
			<ul>
				<li class="title">
					{% set icon_data = load_data(path="static/icon.svg") %}
					<a href="{{ get_url(path="/") }}" class="to-main {% if current_path == "/" %}active{% endif %}">{{- icon_data | safe -}}</a>
				</li>

				{% set menu_object = false %}

				{% for entry in config.extra.menu %}
					{% if entry.type == "page" %}
						{% set menu_object = get_page(path=entry.path) %}
					{% elif entry.type == "section" %}
						{% set menu_object = get_section(path=entry.path) %}
					{% endif %}

					{% if menu_object != false %}
						<li>
							<a href="{{ get_url(path=menu_object.path) }}" class="{% if current_path == menu_object.path %}active{% endif %}">
								{{ entry.title | default(value=menu_object.title) }}
							</a>
						</li>
					{% endif %}
				{% endfor %}
			</ul>
		</nav>
	</header>

	<main>
		{% block content %}{{ section.content | safe }}{% endblock content %}
	</main>

	{% block footer %}
	<hr>
	<footer>
		<p>
			<small>
				&copy; {{ now() | date(format="%Y") }} Nikita Karamov
				<br>
				Licensed under <a href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a>.
			</small>
		</p>
	</footer>
	{% endblock footer %}
</body>
</html>
